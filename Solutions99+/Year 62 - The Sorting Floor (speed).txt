-- 7 Billion Humans (2199) --
-- 62: The Sorting Floor --

jump a
mem1 = foreachdir e:
	a:
	if mem1 == hole:
		b:
		mem1 = set c
		mem1 = set c
		tell everyone hi
		mem1 = set c
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		mem1 = set myitem
		jump b
	endif
endfor
step n
step n
pickup n
step n
c:
listenfor hi
jump d
mem1 = foreachdir s:
	mem2 = foreachdir e:
		d:
		jump e
	endfor
endfor
e:
if mem1 == worker:
	if mem2 == worker:
		jump f
		mem1 = foreachdir e:
			mem2 = foreachdir s:
				mem3 = foreachdir se:
					f:
					jump g
				endfor
			endfor
		endfor
		g:
		if mem1 < myitem:
			if mem2 < myitem:
				if mem3 < myitem:
					step se
				else:
					step s
				endif
			else:
				if mem3 < myitem:
					if mem2 == myitem:
						step se
					else:
						step s
					endif
				else:
					step e
				endif
			endif
		else:
			if mem2 < myitem:
				if mem3 < myitem:
					step s
				else:
					if mem1 == myitem or
					 mem3 == myitem:
						step s
					else:
						step e
					endif
				endif
			else:
				if mem3 < myitem:
					if mem1 == myitem:
						if mem2 == myitem:
							step se
						else:
							step s
						endif
					else:
						step e
					endif
				endif
			endif
		endif
	else:
		jump h
		mem1 = foreachdir w:
			mem2 = foreachdir s:
				mem3 = foreachdir sw:
					h:
					jump i
				endfor
			endfor
		endfor
		i:
		if mem1 < myitem:
			if mem2 < myitem:
				if mem3 < myitem:
					step s
				else:
					if mem3 == myitem:
						step s
					else:
						step sw
					endif
				endif
			else:
				if mem3 < myitem:
					step sw
				endif
			endif
		else:
			if mem2 < myitem:
				if mem3 < myitem:
					if mem1 == myitem:
						step s
					else:
						step sw
					endif
				endif
			else:
				if mem3 < myitem:
				else:
					if mem1 == myitem or
					 mem2 == myitem or
					 mem3 == myitem:
					else:
						step w
					endif
				endif
			endif
		endif
	endif
else:
	if mem2 == worker:
		jump j
		mem1 = foreachdir e:
			mem2 = foreachdir n:
				mem3 = foreachdir ne:
					j:
					jump k
				endfor
			endfor
		endfor
		k:
		if mem1 < myitem:
			if mem2 < myitem:
				if mem3 < myitem:
					step e
				endif
			else:
				if mem3 < myitem:
				else:
					if mem3 == myitem or
					 mem2 == myitem:
					else:
						step ne
					endif
				endif
			endif
		else:
			if mem2 < myitem:
				if mem3 < myitem:
				else:
					if mem3 == myitem or
					 mem1 == myitem:
					else:
						step ne
					endif
				endif
			else:
				if mem3 < myitem:
					if mem1 == myitem or
					 mem2 == myitem:
					else:
						step ne
					endif
				else:
					if mem2 == myitem:
						if mem1 == myitem or
						 mem3 == myitem:
						else:
							step ne
						endif
					else:
						step n
					endif
				endif
			endif
		endif
	else:
		jump l
		mem1 = foreachdir w:
			mem2 = foreachdir n:
				mem3 = foreachdir nw:
					l:
					jump m
				endfor
			endfor
		endfor
		m:
		if mem1 < myitem:
			if mem2 < myitem:
				if mem3 < myitem:
				else:
					if mem1 == myitem or
					 mem2 == myitem or
					 mem3 == myitem:
					else:
						step w
					endif
				endif
			else:
				if mem3 < myitem:
					if mem2 == myitem:
					else:
						step w
					endif
				else:
					if mem2 == myitem:
						if mem3 == myitem:
						else:
							step w
						endif
					else:
						step n
					endif
				endif
			endif
		else:
			if mem2 < myitem:
				if mem3 < myitem:
					if mem1 == myitem:
					else:
						step w
					endif
				else:
					if mem3 == myitem:
						step w
					else:
						step n
					endif
				endif
			else:
				if mem3 < myitem:
					if mem2 == myitem:
						if mem1 == myitem:
						else:
							step w
						endif
					else:
						step n
					endif
				else:
					if mem1 == myitem or
					 mem3 == myitem and
					 mem2 != myitem:
						step n
					else:
						if mem3 == myitem:
							step w
						else:
							step nw
						endif
					endif
				endif
			endif
		endif
	endif
endif
drop
if mem4 == 0 or
 mem4 == 1:
	if mem4 == 0:
		step e
		pickup c
		mem4 = set 1
	else:
		pickup n
		step n
		mem4 = set 2
	endif
else:
	if mem4 == 2:
		step w
		pickup c
		mem4 = set 3
	else:
		jump n
		mem4 = foreachdir w:
			n:
			if mem4 == hole:
				step e
				jump o
				mem4 = foreachdir e:
					o:
					step sw
					pickup c
					if mem4 > myitem:
						step e
						step ne
						drop
						step sw
					else:
						drop
					endif
				endfor
			else:
				jump p
				mem4 = foreachdir sw:
					p:
					step e
					pickup c
					if mem4 < myitem:
						step sw
						step w
						drop
					else:
						drop
						step sw
					endif
				endfor
			endif
		endfor
		pickup c
		mem4 = set 0
	endif
endif
jump c


